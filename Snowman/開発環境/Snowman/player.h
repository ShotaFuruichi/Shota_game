////////////////////////////////////////////////////////////////////////////////
//
//Contents	: プレイヤーの処理 [player.h]
//Author	: ShotaFuruichi
//Since		: 2020/10/13
//
////////////////////////////////////////////////////////////////////////////////
#ifndef _PLAYER_H_
#define _PLAYER_H_
#include "main.h"

////////////////////////////////////////////////////////////////////////////////
//マクロ定義
////////////////////////////////////////////////////////////////////////////////
#define DIAGONAL_X (45)					//X方向1辺の長さ
#define DIAGONAL_Y (120)				//Y方向1辺の長さ


////////////////////////////////////////////////////////////////////////////////
//プレイヤーの状態
////////////////////////////////////////////////////////////////////////////////
typedef enum
{
	PLAYERSTATE_APPER = 0,	//出現
	PLAYERSTATE_NORMAL,		//通常
	PLAYERSTATE_DAMAGE,		//ダメージ
	PLAYERSTATE_WAIT,		//出現待ち
	PLAYERSTATE_DEATH,		//死亡
	PLAYERSTATE_MAX
} PLAYERSTATE;

////////////////////////////////////////////////////////////////////////////////
//構造体の宣言
////////////////////////////////////////////////////////////////////////////////
typedef struct
{
	D3DXVECTOR3 pos;	//位置
	D3DXVECTOR3 oldpos;	//前の位置
	D3DXVECTOR3 rot;	//回転角
	D3DXVECTOR3 move;	//移動量
	bool bMove;			//移動中
	bool bJump;			//ジャンプ
	float fLength;		//中心からの対角線までの長さ
	float fAngle;		//対角線の角度
	int nLife;			//体力
	PLAYERSTATE state;	//状態
	int nCounterState;	//状態カウンタ
	int nCounterDisp;	//表示カウンタ
	bool bDisp;			//表示ON/OFF
	D3DXCOLOR col;		//色
	bool Direction;	//向き
} PLAYER;

////////////////////////////////////////////////////////////////////////////////
//プロトタイプ宣言
////////////////////////////////////////////////////////////////////////////////
HRESULT InitPlayer(void);
void UninitPlayer(void);
void UpdatePlayer(void);
void DrawPlayer(void);
void SetVertexPlayer(void);
void ShotPlayer(void);
void MovePlayer(void);
void SetColorPlayer(void);
void HitPlayer(void);
bool HitItem(void);
PLAYER *GetPlayer(void);

#endif